<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Presupuesto - Mi Sitio Web</title>
    <link rel="stylesheet" href="../../css/styles.css">
    <script src="../../js/scripts.js" defer></script>
</head>
<body>
    <header>
        <nav>
            <ul>
                <li><a href="../../index.html">Inicio</a></li>
                <li><a href="galeria.html">Galería</a></li>
                <li><a href="presupuesto.html" class="active">Presupuesto</a></li>
                <li><a href="contacto.html">Contacto</a></li>
            </ul>
        </nav>
    </header>
    <main>
        <h1>Presupuesto</h1>
        <form id="presupuesto-form">
            <fieldset>
                <legend>Datos de Contacto</legend>
                <label for="nombre">Nombre:</label>
                <input type="text" id="nombre" name="nombre" maxlength="15" pattern="[A-Za-zñÑáéíóúÁÉÍÓÚ\s]+" required><br><br>
                <label for="apellidos">Apellidos:</label>
                <input type="text" id="apellidos" name="apellidos" maxlength="40" pattern="[A-Za-zñÑáéíóúÁÉÍÓÚ\s]+" required><br><br>
                <label for="telefono">Teléfono de Contacto:</label>
                <input type="tel" id="telefono" name="telefono" maxlength="9" pattern="[0-9]{9}" required><br><br>
                <label for="email">Correo Electrónico:</label>
                <input type="email" id="email" name="email" required><br><br>
            </fieldset>
            <fieldset>
                <legend>Presupuesto</legend>
                <label for="producto">Producto:</label>
                <select id="producto" name="producto" required>
                    <option value="100">Producto 1 - $100</option>
                    <option value="200">Producto 2 - $200</option>
                    <option value="300">Producto 3 - $300</option>
                </select><br><br>
                <label for="plazo">Plazo (meses):</label>
                <input type="number" id="plazo" name="plazo" min="1" required><br><br>
                <label>Extras:</label><br>
                <input type="checkbox" id="extra1" name="extras" value="50">
                <label for="extra1">Extra 1 - $50</label><br>
                <input type="checkbox" id="extra2" name="extras" value="75">
                <label for="extra2">Extra 2 - $75</label><br>
                <input type="checkbox" id="extra3" name="extras" value="100">
                <label for="extra3">Extra 3 - $100</label><br><br>
                <label for="total">Presupuesto Total:</label>
                <input type="text" id="total" name="total" readonly><br><br>
                <input type="checkbox" id="condiciones" name="condiciones" required>
                <label for="condiciones">Acepto las condiciones de privacidad.</label><br><br>
                <button type="submit">Enviar Presupuesto</button>
                <button type="reset">Limpiar Formulario</button>
            </fieldset>
        </form>
    </main>
    <footer>
        <!-- Incluir footer común -->
        <div id="footer-container"></div>
        <script src="../../js/scripts.js"></script>
        <script>
            // Cargar el contenido del footer
            fetch('../../footer.html')
                .then(response => response.text())
                .then(data => {
                    document.getElementById('footer-container').innerHTML = data;
                });

            // Lógica para calcular el presupuesto final
            document.getElementById('presupuesto-form').addEventListener('input', function() {
                let producto = document.getElementById('producto').value;
                let plazo = parseInt(document.getElementById('plazo').value);
                let extras = document.querySelectorAll('input[name="extras"]:checked');
                let totalExtras = 0;
                extras.forEach(extra => {
                    totalExtras += parseInt(extra.value);
                });
                let precioBase = parseInt(producto);
                let descuento = plazo > 6 ? 10 : 0;
                let presupuestoFinal = precioBase * (1 - descuento / 100) + totalExtras;
                document.getElementById('total').value = presupuestoFinal.toFixed(2);
            });
        </script>
    </footer>
</body>
</html>
